{"version":3,"file":"static/js/299.225ccfcf.chunk.js","mappings":"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","sources":["pages/admin/category/CategoryCreate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n  AdminNav,\n  CategoryCreateForm,\n  FormContainer,\n  LocalSearch,\n} from '../../../components'\nimport { useSelector } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport {\n  createCategory,\n  getCategories,\n  removeCategory,\n} from '../../../api/category'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\n\nconst CategoryCreate = () => {\n  const { user } = useSelector((state) => ({ ...state }))\n\n  const [name, setName] = useState('')\n  const [buttonloading, setButtonLoading] = useState(false)\n  //   const [show, setShow] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [categories, setCategories] = useState([])\n  //search while filter\n  const [keyword, setKeyword] = useState('')\n\n  useEffect(() => {\n    loadAllCategories()\n  }, [])\n\n  const loadAllCategories = () => {\n    getCategories()\n      .then((res) => {\n        setCategories(res.data)\n      })\n      .catch((err) => {\n        toast.error('FETCHING CATEGORY ERROR')\n      })\n  }\n  const submitHandler = (e) => {\n    e.preventDefault()\n\n    if (!name || name.length < 2) {\n      return toast.error(`Name must be atleast 2 characters`, {\n        position: 'top-right',\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      })\n    }\n    setButtonLoading(true)\n    createCategory({ name }, user.token)\n      .then((res) => {\n        setButtonLoading(false)\n        setName('')\n        toast.success(`${res.data.name} is created`, {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n        loadAllCategories()\n      })\n      .catch((err) => {\n        setButtonLoading(false)\n        toast.error(err.response.data, {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n      })\n  }\n\n  const handleDelete = async (slug) => {\n    if (window.confirm(`are you sure wanna delete ${slug}?`)) {\n      setLoading()\n      removeCategory(slug, user.token)\n        .then((res) => {\n          setLoading(false)\n          toast.error(`${res.data.name} is Deleted`, {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          })\n          loadAllCategories()\n        })\n        .catch((err) => {\n          setLoading(false)\n          toast.error(err.response.data, {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          })\n        })\n    }\n  }\n\n  const handleSearchChange = (e) => {\n    e.preventDefault()\n    setKeyword(e.target.value.toLowerCase())\n  }\n\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword)\n\n  return (\n    <>\n      {loading ? (\n        <h4>Loading...</h4>\n      ) : (\n        <div className='container-fluid'>\n          <div className='row'>\n            <div className='col-md-2'>\n              <AdminNav />\n            </div>\n            <div className='col'>\n              <FormContainer>\n                <CategoryCreateForm\n                  submitHandler={submitHandler}\n                  name={name}\n                  setName={setName}\n                  buttonloading={buttonloading}\n                  title={'Create Category'}\n                />\n\n                <LocalSearch\n                  keyword={keyword}\n                  handleSearchChange={handleSearchChange}\n                />\n                {categories.filter(searched(keyword)).map((c) => (\n                  <div key={c._id} className='alert alert-success'>\n                    {c.name}\n                    <OverlayTrigger\n                      placement='bottom'\n                      overlay={<Tooltip id='tooltipment'>Delete</Tooltip>}\n                    >\n                      <span className='float-end mx-2'>\n                        <i\n                          className='fa fa-trash  text-danger'\n                          aria-hidden='true'\n                          style={{ cursor: 'pointer' }}\n                          //   onClick={() => setShow(true)}\n                          onClick={() => handleDelete(c.slug)}\n                        ></i>\n                      </span>\n                    </OverlayTrigger>\n\n                    <OverlayTrigger\n                      placement='bottom'\n                      overlay={<Tooltip id='tooltipment'>Edit</Tooltip>}\n                    >\n                      <Link\n                        to={`/admin/category/${c.slug}`}\n                        className='float-end mx-2'\n                      >\n                        <i\n                          className='fa fa-pencil text-primary '\n                          aria-hidden='true'\n                        ></i>\n                      </Link>\n                    </OverlayTrigger>\n                  </div>\n                ))}\n              </FormContainer>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default CategoryCreate\n"],"names":["user","useSelector","state","useState","name","setName","buttonloading","setButtonLoading","loading","setLoading","categories","setCategories","keyword","setKeyword","useEffect","loadAllCategories","getCategories","then","res","data","catch","err","toast","handleDelete","slug","window","confirm","removeCategory","token","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","response","className","submitHandler","e","preventDefault","length","createCategory","title","handleSearchChange","target","value","toLowerCase","filter","c","includes","searched","map","placement","overlay","id","style","cursor","onClick","to","_id"],"sourceRoot":""}