"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[571],{26109:function(e,t,a){a.d(t,{n:function(){return r}});var n=a(96584);var r=function(){var e,t;(0,n.Z)({angle:(e=55,t=125,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)),spread:360,particleCount:1200,origin:{y:.6}})}},8669:function(e,t,a){a.r(t);var n=a(4942),r=a(1413),i=a(29439),s=a(72791),o=a(64386),c=a(26109),l=a(16030),u=a(30577),d=a(37539),g=a(16871),h=a(6187),p=a(47022),f=a(89743),m=a(24849),x=a(2677),v=a(74569),b=a.n(v),C=a(14257),Z=a(80184),j={title:"",description:"",price:"",categories:[],category:"",subCategory:[],quantity:"",images:[],brand:""};t.default=function(){var e=(0,s.useState)(j),t=(0,i.Z)(e,2),a=t[0],v=t[1],E=(0,s.useState)([]),y=(0,i.Z)(E,2),N=y[0],R=y[1],k=(0,s.useState)(!1),O=(0,i.Z)(k,2),w=O[0],A=O[1],S=(0,s.useState)(!1),T=(0,i.Z)(S,2),P=T[0],F=T[1],G=(0,s.useState)(!1),H=(0,i.Z)(G,2),I=H[0],M=H[1],_=(0,s.useState)([]),B=(0,i.Z)(_,2),D=B[0],L=B[1],V=(0,l.v9)((function(e){return(0,r.Z)({},e)})).user;(0,g.s0)();(0,s.useEffect)((function(){Y()}),[]);var Y=function(){(0,h.CP)().then((function(e){v((0,r.Z)((0,r.Z)({},a),{},{categories:e.data}))})).catch((function(e){u.Am.error("FETCHING CATEGORY ERROR")}))};return(0,Z.jsx)(Z.Fragment,{children:w?(0,Z.jsx)("h3",{children:"Loading"}):(0,Z.jsx)("div",{className:"container-fluid",children:(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsx)("div",{className:"col-md-2",children:(0,Z.jsx)(o.TL,{})}),(0,Z.jsxs)("div",{className:"col",children:[(0,Z.jsx)(p.Z,{children:(0,Z.jsx)(f.Z,{className:"d-flex justify-content-between",children:I?(0,Z.jsx)(m.Z,{animation:"border",variant:"danger"}):(0,Z.jsx)(Z.Fragment,{children:a.images&&a.images.map((function(e){return(0,Z.jsx)(x.Z,{className:"mb-3",sm:12,md:6,lg:4,xl:3,children:(0,Z.jsxs)("div",{className:"item",style:{position:"relative",paddingTop:"20px",display:"inline-block"},children:[(0,Z.jsx)("span",{className:"notify-badge",style:{position:"absolute",right:"-20px",top:"10px",background:"red",textAlign:"center",borderRadius:"30px",color:"white",padding:"5px 10px",fontSize:"20px",cursor:"pointer"},onClick:function(){return t=e.public_id,M(!0),void b().post("".concat("http://localhost:8000/api","/deleteimage"),{public_id:t},{headers:{authtoken:V?V.token:""}}).then((function(e){M(!1);var n=a.images.filter((function(e){return e.public_id!==t}));v((0,r.Z)((0,r.Z)({},a),{},{images:n}))})).catch((function(e){M(!1),console.log(e)}));var t},children:"X"}),(0,Z.jsx)(C.ZP,{round:!0,src:e.url})]})},e.public_id)}))})})}),(0,Z.jsxs)(o.Yb,{children:[(0,Z.jsx)("h2",{className:"text-center",children:"PRODUCT CREATE"}),(0,Z.jsx)("br",{}),(0,Z.jsx)(o.p0,{values:a,setValues:v,setImageLoader:M})," ",(0,Z.jsx)("br",{}),(0,Z.jsx)(o.Kl,{values:a,submitHandler:function(e){if(e.preventDefault(),a.subCategory=D,a.price<=0)return u.Am.error("PRICE CANNOT BE NEGATIVE or ZERO");A(!0),(0,d.ry)(a,V.token).then((function(e){u.Am.success("".concat(e.data.title," is Created"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),A(!1),window.alert("".concat(e.data.title," is Created")),window.location.reload(),(0,c.n)()})).catch((function(e){console.log(e),A(!1),u.Am.error(e.response.data.err,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))},handleChange:function(e){"quantity"==e.target.name&&(e.target.value=Math.ceil(e.target.value)),v((0,r.Z)((0,r.Z)({},a),{},(0,n.Z)({},e.target.name,e.target.value)))},handleCategoryChange:function(e){e.preventDefault(),v((0,r.Z)((0,r.Z)({},a),{},{subCategory:[],category:e.target.value})),"Please Select"!==e.target.value&&(F(!0),(0,h.Gu)(e.target.value).then((function(e){console.log(e.data),R(e.data)})).catch((function(e){console.log("ERROR IN FETCHING CATEGORY REFRESH")})))},subOptions:N,showSub:P,setValues:v,setField:L,field:D})]})]})]})})})}}}]);
//# sourceMappingURL=571.51051cd8.chunk.js.map