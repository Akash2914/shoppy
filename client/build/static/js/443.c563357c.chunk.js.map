{"version":3,"file":"static/js/443.c563357c.chunk.js","mappings":"mNAuGA,UA3FkB,WAChB,IAAQA,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,KACR,GAA0BG,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAEA,GAFA,MAE8BH,EAAAA,EAAAA,UAAS,KAAvC,eAAOI,EAAP,KAAgBC,EAAhB,KAEMC,EAAc,YAClBC,EAAAA,EAAAA,IAAYV,EAAKW,OACdC,MAAK,SAACC,GACLR,EAASQ,EAAIC,MACbC,QAAQC,IAAIH,EAAIC,SAEjBG,OAAM,SAACC,GACNC,EAAAA,GAAAA,MAAYD,QAIlBE,EAAAA,EAAAA,YAAU,WACK,OAATpB,GACFS,MAED,IAEH,IAOMY,EAAc,SAACC,EAAIC,IACvBC,EAAAA,EAAAA,IAAYF,EAAIC,EAAWvB,EAAKW,OAC7BC,MAAK,SAACC,GACLM,EAAAA,GAAAA,QAAc,eACdV,OAEDQ,OAAM,SAACC,GACNH,QAAQC,IAAIE,GACZC,EAAAA,GAAAA,MAAY,aAGlB,OACE,8BACGb,GACC,wCAEA,gBAAKmB,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,gBAAKA,UAAU,MAAf,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CACElB,QAASA,EACTmB,mBAhCW,SAACC,GAC1BA,EAAEC,iBACFpB,EAAWmB,EAAEE,OAAOC,MAAMC,kBAiCb3B,EAAM4B,OA9BJ,SAACzB,GAAD,OAAa,SAAC0B,GAAD,OAAOA,EAAEC,KAAKH,cAAcI,SAAS5B,IA8BvC6B,CAAS7B,IAAU8B,KAAI,SAACJ,GAAD,OACnC,iBAAiBR,UAAU,sBAA3B,UACGQ,EAAEK,MADL,MACe,KACb,wBAAoB,IAAhBL,EAAEV,UAAqB,UAAY,iBACvC,iBAAME,UAAU,iBAAhB,UACmB,IAAhBQ,EAAEV,WACD,SAAC,IAAD,CAASgB,MAAM,QAAf,UACE,cACEd,UAAU,kCACVe,QAAS,kBAAMnB,EAAYY,EAAEQ,IAAKR,EAAEV,iBAIxC,SAAC,IAAD,CAASgB,MAAM,UAAf,UACE,cACEd,UAAU,kCACVe,QAAS,kBAAMnB,EAAYY,EAAEQ,IAAKR,EAAEV,oBAfpCU,EAAEQ","sources":["pages/admin/blockList/BlockList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n  AdminNav,\n  CategoryCreateForm,\n  FormContainer,\n  LocalSearch,\n} from '../../../components'\nimport { useSelector } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport { Tooltip } from 'antd'\nimport { changeBlock, getAllUsers } from '../../../api/user'\n\nconst BlockList = () => {\n  const { user } = useSelector((state) => ({ ...state }))\n  const [users, setUsers] = useState([])\n  const [loading, setLoading] = useState(false)\n  //search while filter\n  const [keyword, setKeyword] = useState('')\n\n  const loadAlluser = () => {\n    getAllUsers(user.token)\n      .then((res) => {\n        setUsers(res.data)\n        console.log(res.data)\n      })\n      .catch((err) => {\n        toast.error(err)\n      })\n  }\n\n  useEffect(() => {\n    if (user !== null) {\n      loadAlluser()\n    }\n  }, [])\n\n  const handleSearchChange = (e) => {\n    e.preventDefault()\n    setKeyword(e.target.value.toLowerCase())\n  }\n\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword)\n\n  const handleBlock = (id, isBlocked) => {\n    changeBlock(id, isBlocked, user.token)\n      .then((res) => {\n        toast.success('Action Done')\n        loadAlluser()\n      })\n      .catch((err) => {\n        console.log(err)\n        toast.error('error')\n      })\n  }\n  return (\n    <>\n      {loading ? (\n        <h4>Loading...</h4>\n      ) : (\n        <div className='container-fluid'>\n          <div className='row'>\n            <div className='col-md-2'>\n              <AdminNav />\n            </div>\n            <div className='col'>\n              <FormContainer>\n                <LocalSearch\n                  keyword={keyword}\n                  handleSearchChange={handleSearchChange}\n                />\n\n                {users.filter(searched(keyword)).map((c) => (\n                  <div key={c._id} className='alert alert-success'>\n                    {c.email} is{' '}\n                    <b>{c.isBlocked === true ? 'Blocked' : 'Not Blocked'}</b>\n                    <span className='float-end mx-2'>\n                      {c.isBlocked === false ? (\n                        <Tooltip title='Block'>\n                          <i\n                            className='far fa-times-circle text-danger'\n                            onClick={() => handleBlock(c._id, c.isBlocked)}\n                          ></i>\n                        </Tooltip>\n                      ) : (\n                        <Tooltip title='Unblock'>\n                          <i\n                            className='far fa-check-circle text-danger'\n                            onClick={() => handleBlock(c._id, c.isBlocked)}\n                          ></i>\n                        </Tooltip>\n                      )}\n                    </span>\n                  </div>\n                ))}\n              </FormContainer>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default BlockList\n"],"names":["user","useSelector","state","useState","users","setUsers","loading","keyword","setKeyword","loadAlluser","getAllUsers","token","then","res","data","console","log","catch","err","toast","useEffect","handleBlock","id","isBlocked","changeBlock","className","handleSearchChange","e","preventDefault","target","value","toLowerCase","filter","c","name","includes","searched","map","email","title","onClick","_id"],"sourceRoot":""}