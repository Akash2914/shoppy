{"version":3,"file":"static/js/394.a95f6012.chunk.js","mappings":"8OAEaA,EAAa,mCAAG,WAAOC,GAAP,iFACdC,IAAAA,KAAA,UAAcC,4BAAd,gBAAuDF,GADzC,mFAAH,sDAIbG,EAAiB,mCAAG,WAAOC,EAAIC,GAAX,iFAClBJ,IAAAA,OAAA,UACRC,4BADQ,0BACmCE,GAC9C,CACEE,QAAS,CACPD,UAAAA,KALyB,mFAAH,wDAWjBE,EAAe,mCAAG,WAAOF,GAAP,iFAChBJ,IAAAA,IAAA,UAAaC,4BAAb,gBAAsD,CACjEI,QAAS,CACPD,UAAAA,KAHyB,mFAAH,uD,mIC+F5B,UAzGuB,WACrB,OAAgCG,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAEQC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,MAERG,EAAAA,EAAAA,YAAU,WACK,OAATH,GACFI,MAED,IAEH,IAAMA,EAAiB,YACrBR,EAAAA,EAAAA,IAAgBI,EAAKK,OAAOC,MAAK,SAACC,GAChCR,EAAYQ,EAAIC,UA2EpB,OACE,gBAAKC,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,MAAf,WACE,eAAIA,UAAU,eAAd,SACGX,EAASY,OAAS,kBAAoB,mBA/C/CZ,EAASa,KAAI,SAACC,EAASC,GAAV,OACX,iBAAaJ,UAAU,eAAvB,WACE,+BACE,0BACE,0BACE,2BACE,eAAGK,MAAO,CAAEC,MAAO,SAAnB,uBACaH,EAAQI,IADrB,IAC2B,MAAO,SAE5B,KACR,2BACE,eAAGF,MAAO,CAAEC,MAAO,SAAnB,2BACiBH,EAAQK,KACtB,YAGL,2BACE,eAAGH,MAAO,CAAEC,MAAO,SAAnB,oBACUH,EAAQM,MADlB,IAC0B,YAG5B,2BACE,SAAC,IAAD,CAASC,MAAO,SAAUC,UAAU,SAApC,UACE,kBACEN,MAAO,CAAEC,MAAO,SAChBN,UAAU,UACVY,QAAS,kBA1DL5B,EA0DwBmB,EAAQI,SAzDvCM,OAAOC,QAAQ,gCAE1B/B,EAAAA,EAAAA,IAAkBC,EAAIO,EAAKK,OACxBC,MAAK,SAACC,GACLiB,EAAAA,GAAAA,QAAc,wBACdpB,OAEDqB,OAAM,SAACC,GACNF,EAAAA,GAAAA,MAAY,8BATC,IAAC/B,GAuDN,WAKE,cAAGgB,UAAU,sBALf,yBAxCd,mBAAOA,UAAU,uBAAjB,WACE,kBAAOA,UAAU,cAAjB,UACE,yBACE,eAAIkB,MAAM,MAAV,0BAGJ,2BACG7B,EAASa,KAAI,SAACiB,EAAGf,GAAJ,OACZ,yBACE,wBAAKe,EAAEC,WADAhB,aAUHA","sources":["api/contactus.js","pages/admin/AdminContactus.js"],"sourcesContent":["import axios from 'axios'\n\nexport const createContact = async (payload) => {\n  return await axios.post(`${process.env.REACT_APP_API}/postContact`, payload)\n}\n\nexport const deleteContactForm = async (id, authtoken) => {\n  return await axios.delete(\n    `${process.env.REACT_APP_API}/removeContact/${id}`,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  )\n}\n\nexport const getContactForms = async (authtoken) => {\n  return await axios.get(`${process.env.REACT_APP_API}/getContacts`, {\n    headers: {\n      authtoken,\n    },\n  })\n}\n","import React, { useState, useEffect } from 'react'\nimport { getContactForms, deleteContactForm } from '../../api/contactus'\nimport { useSelector } from 'react-redux'\nimport { AdminNav } from '../../components'\nimport { Tooltip } from 'antd'\nimport { toast } from 'react-toastify'\n\nconst AdminContactus = () => {\n  const [contacts, setContacts] = useState([])\n\n  const { user } = useSelector((state) => ({ ...state }))\n\n  useEffect(() => {\n    if (user !== null) {\n      loadAllContact()\n    }\n  }, [])\n\n  const loadAllContact = () => {\n    getContactForms(user.token).then((res) => {\n      setContacts(res.data)\n    })\n  }\n\n  const handleDelete = (id) => {\n    let answer = window.confirm('are you sure wanna delete?')\n    if (answer) {\n      deleteContactForm(id, user.token)\n        .then((res) => {\n          toast.success('SuccessFully Removed')\n          loadAllContact()\n        })\n        .catch((err) => {\n          toast.error('Error Removing Contact')\n        })\n    }\n  }\n\n  const showContactTable = (contact) => (\n    <table className='table table-bordered'>\n      <thead className='thead-light'>\n        <tr>\n          <th scope='col'>Content</th>\n        </tr>\n      </thead>\n      <tbody>\n        {contacts.map((c, i) => (\n          <tr key={i}>\n            <td>{c.content}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n\n  const showEachRequest = () =>\n    contacts.map((contact, i) => (\n      <div key={i} className='m-5 p-3 card'>\n        <>\n          <div>\n            <p>\n              <span>\n                <b style={{ color: 'black' }}>\n                  Form Id : {contact._id} {' / '}{' '}\n                </b>\n              </span>{' '}\n              <span>\n                <b style={{ color: 'black' }}>\n                  Submitted By: {contact.name}\n                  {' / '}\n                </b>\n              </span>\n              <span>\n                <b style={{ color: 'black' }}>\n                  Phone: {contact.phone} {' / '}\n                </b>\n              </span>\n              <span>\n                <Tooltip title={'delete'} placement='bottom'>\n                  <span\n                    style={{ color: 'black' }}\n                    className='pointer'\n                    onClick={() => handleDelete(contact._id)}\n                  >\n                    <i className='far fa-trash-alt '></i> Delete\n                  </span>\n                </Tooltip>\n              </span>\n            </p>\n          </div>\n        </>\n        {showContactTable(contact)}\n      </div>\n    ))\n\n  return (\n    <div className='container-fluid'>\n      <div className='row'>\n        <div className='col-md-2'>\n          <AdminNav />\n        </div>\n        <div className='col'>\n          <h4 className='text-center '>\n            {contacts.length ? 'Contact Request' : 'No Request yet'}\n          </h4>\n          {showEachRequest()}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AdminContactus\n"],"names":["createContact","payload","axios","process","deleteContactForm","id","authtoken","headers","getContactForms","useState","contacts","setContacts","user","useSelector","state","useEffect","loadAllContact","token","then","res","data","className","length","map","contact","i","style","color","_id","name","phone","title","placement","onClick","window","confirm","toast","catch","err","scope","c","content"],"sourceRoot":""}