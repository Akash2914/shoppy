{"version":3,"file":"static/js/126.51387d73.chunk.js","mappings":"kNAwGA,UA9FuB,WACrB,IAAMA,GAASC,EAAAA,EAAAA,MAATD,KACEE,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,KAEFG,GAAWC,EAAAA,EAAAA,MAEjB,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0CF,EAAAA,EAAAA,WAAS,GAAnD,eAAOG,EAAP,KAAsBC,EAAtB,KACA,GAA8BJ,EAAAA,EAAAA,WAAS,GAAvC,eAAOK,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAe,WACnBF,GAAW,IACXG,EAAAA,EAAAA,IAAYhB,GAAMiB,MAAK,SAACC,GACtBL,GAAW,GACXJ,EAAQS,EAAIC,KAAKX,UAgDrB,OACE,8BACGI,GACC,wCAEA,gBAAKQ,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,MAAf,UACG,KACD,SAAC,KAAD,WACE,SAAC,KAAD,CACEZ,KAAMA,EACNC,QAASA,EACTY,cA7DM,SAACC,GAGrB,GAFAA,EAAEC,kBAEGf,GAAQA,EAAKgB,OAAS,EACzB,OAAOC,EAAAA,GAAAA,MAAA,oCAAiD,CACtDC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGdtB,GAAiB,IACjBuB,EAAAA,EAAAA,IAAelC,EAAM,CAAEQ,KAAAA,GAAQN,EAAKiC,OACjClB,MAAK,SAACC,GACLP,GAAiB,GACjBF,EAAQ,IACRgB,EAAAA,GAAAA,QAAA,UAAiBP,EAAIC,KAAKX,KAA1B,eAA6C,CAC3CkB,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAEZ5B,GAAU,MAGX+B,OAAM,SAACC,GACN1B,GAAiB,GACjBc,EAAAA,GAAAA,MAAYY,EAAIC,SAASnB,KAAM,CAC7BO,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,QAsBFvB,cAAeA","sources":["pages/admin/category/CategoryUpdate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport {\n  AdminNav,\n  FormContainer,\n  CategoryUpdateForm,\n} from '../../../components'\nimport { useSelector } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport { getCategory, updateCategory } from '../../../api/category'\nimport { useNavigate, useParams } from 'react-router-dom'\nconst CategoryUpdate = () => {\n  let { slug } = useParams()\n  const { user } = useSelector((state) => ({ ...state }))\n\n  const navigate = useNavigate()\n\n  const [name, setName] = useState('')\n  const [buttonloading, setButtonLoading] = useState(false)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    loadCategory()\n  }, [])\n\n  const loadCategory = () => {\n    setLoading(true)\n    getCategory(slug).then((res) => {\n      setLoading(false)\n      setName(res.data.name)\n    })\n  }\n  const submitHandler = (e) => {\n    e.preventDefault()\n\n    if (!name || name.length < 2) {\n      return toast.error(`Name must be atleast 2 characters`, {\n        position: 'top-right',\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      })\n    }\n    setButtonLoading(true)\n    updateCategory(slug, { name }, user.token)\n      .then((res) => {\n        setButtonLoading(false)\n        setName('')\n        toast.success(`${res.data.name} is Updated`, {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n        navigate(-1)\n        // loadAllCategories()\n      })\n      .catch((err) => {\n        setButtonLoading(false)\n        toast.error(err.response.data, {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n      })\n  }\n\n  return (\n    <>\n      {loading ? (\n        <h4>Loading...</h4>\n      ) : (\n        <div className='container-fluid'>\n          <div className='row'>\n            <div className='col-md-2'>\n              <AdminNav />\n            </div>\n            <div className='col'>\n              {' '}\n              <FormContainer>\n                <CategoryUpdateForm\n                  name={name}\n                  setName={setName}\n                  submitHandler={submitHandler}\n                  buttonloading={buttonloading}\n                />\n              </FormContainer>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default CategoryUpdate\n"],"names":["slug","useParams","user","useSelector","state","navigate","useNavigate","useState","name","setName","buttonloading","setButtonLoading","loading","setLoading","useEffect","loadCategory","getCategory","then","res","data","className","submitHandler","e","preventDefault","length","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","updateCategory","token","catch","err","response"],"sourceRoot":""}