{"version":3,"file":"static/js/673.8ef0742c.chunk.js","mappings":"mNAwEA,UAjEgB,WACd,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACQC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAAtCF,MAESG,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,WACRC,MACC,IAEH,IAAMA,EAAiB,YACrBC,EAAAA,EAAAA,IAAcN,EAAKO,OAAOC,MAAK,SAACC,GAC9BC,QAAQC,IAAIC,KAAKC,UAAUJ,EAAIK,KAAM,KAAM,IAC3Cf,EAAUU,EAAIK,UAIZC,EAAiB,SAACC,GAAD,OACrB,mBAAOC,UAAU,uBAAjB,WACE,kBAAOA,UAAU,cAAjB,UACE,2BACE,eAAIC,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,yBAGJ,2BACGF,EAAMG,SAASC,KAAI,SAACC,EAAGC,GAAJ,OAClB,2BACE,yBACE,uBAAID,EAAEE,QAAQC,WAEhB,wBAAKH,EAAEE,QAAQE,SACf,wBAAKJ,EAAEK,SACP,wBAAKL,EAAEE,QAAQI,UANRL,YAoBjB,OACE,gBAAKL,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,gBAAKA,UAAU,WAAf,UACE,SAAC,KAAD,OAEF,iBAAKA,UAAU,MAAf,WACE,eAAIA,UAAU,eAAd,SACGnB,EAAO8B,OAAS,wBAA0B,qBAdnD9B,EAAOsB,KAAI,SAACJ,EAAOM,GAAR,OACT,iBAAaL,UAAU,eAAvB,WACE,SAAC,KAAD,CAAeD,MAAOA,IACrBD,EAAeC,KAFRM","sources":["pages/user/History.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { UserNav, ShowOrderInfo } from '../../components'\nimport { getUserOrders } from '../../api/user'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { toast } from 'react-toastify'\nimport { useNavigate } from 'react-router-dom'\n\nconst History = () => {\n  const [orders, setOrders] = useState([])\n  const { user } = useSelector((state) => ({ ...state }))\n\n  const navigate = useNavigate()\n  useEffect(() => {\n    loadUserOrders()\n  }, [])\n\n  const loadUserOrders = () => {\n    getUserOrders(user.token).then((res) => {\n      console.log(JSON.stringify(res.data, null, 4))\n      setOrders(res.data)\n    })\n  }\n\n  const showOrderTable = (order) => (\n    <table className='table table-bordered'>\n      <thead className='thead-light'>\n        <tr>\n          <th scope='col'>title</th>\n          <th scope='col'>price</th>\n          <th scope='col'>count</th>\n          <th scope='col'>brand</th>\n        </tr>\n      </thead>\n      <tbody>\n        {order.products.map((p, i) => (\n          <tr key={i}>\n            <td>\n              <b>{p.product.title}</b>\n            </td>\n            <td>{p.product.price}</td>\n            <td>{p.count}</td>\n            <td>{p.product.brand}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  )\n\n  const showEachOrder = () =>\n    orders.map((order, i) => (\n      <div key={i} className='m-5 p-3 card'>\n        <ShowOrderInfo order={order} />\n        {showOrderTable(order)}\n      </div>\n    ))\n  return (\n    <div className='container-fluid'>\n      <div className='row'>\n        <div className='col-md-2'>\n          <UserNav />\n        </div>\n        <div className='col'>\n          <h4 className='text-center '>\n            {orders.length ? 'User Purchase History' : 'No Purchases yet'}\n          </h4>\n          {showEachOrder()}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default History\n"],"names":["useState","orders","setOrders","user","useSelector","state","useNavigate","useEffect","loadUserOrders","getUserOrders","token","then","res","console","log","JSON","stringify","data","showOrderTable","order","className","scope","products","map","p","i","product","title","price","count","brand","length"],"sourceRoot":""}