{"version":3,"file":"static/js/320.d483cadf.chunk.js","mappings":"4NA+GA,UAvGa,WACX,OAAuBA,EAAAA,EAAAA,KAAY,SAACC,GAAD,iBAAiBA,MAA5CC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KAERC,GAAWC,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MA4CjB,OACE,gBAAKC,UAAU,kBAAf,UACE,iBAAKA,UAAU,MAAf,WACE,iBAAKA,UAAU,WAAf,WACE,0BAAKL,EAAKM,OAAV,yBAEEN,EAAKM,QAvBb,mBAAOD,UAAU,uBAAjB,WACE,kBAAOA,UAAU,cAAjB,UACE,2BACE,eAAIE,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,oBACA,eAAIA,MAAM,MAAV,yBAGHP,EAAKQ,KAAI,SAACC,GAAD,OACR,SAAC,KAAD,CAAmCC,QAASD,GAAhBA,EAAEE,YAY1B,qDAC0B,SAAC,KAAD,CAAMC,GAAG,IAAT,sCAM9B,gBAAKP,UAAU,WAAf,UACE,4CACgB,mBACd,oCACCL,EAAKQ,KAAI,SAACK,EAAGC,GAAJ,OACR,0BACE,0BACGD,EAAEE,MADL,MACeF,EAAEG,MADjB,aAC6BH,EAAEI,MAAQJ,EAAEG,OAAOE,QAAQ,OAFhDJ,OAMZ,kBAVF,YAWU,kCAnETd,EAAKmB,QAAO,SAACC,EAAcC,GAChC,OAAQD,EAAeC,EAAUL,MAAQK,EAAUJ,OAAOC,QAAQ,KACjE,OAkEK,kBACCjB,GACC,SAAC,IAAD,CACEqB,MAAO,CAAEC,eAAgB,QACzBC,SAAUxB,EAAKM,OAAS,EACxBmB,QApEQ,YACG,IAAnBxB,EAAKyB,UACPC,EAAAA,GAAAA,MAAY,yDAEZC,EAAAA,EAAAA,IAAS5B,EAAMC,EAAK4B,OACjBC,MAAK,SAACC,GAEDA,EAAIC,KAAKC,IACX/B,EAAS,gBAGZgC,OAAM,SAACC,GACNC,QAAQC,IAAI,kBAAmBF,GAC/BR,EAAAA,GAAAA,MAAY,+BAoDR,kCAQA,SAAC,IAAD,WACE,SAAC,KAAD,CACEf,GAAI,CACF0B,SAAU,SACVvC,MAAO,CAAEwC,KAAM,SAEjBjB,MAAO,CAAEC,eAAgB,OAAQiB,MAAO,SAL1C","sources":["pages/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { ProductCardInCheckout } from '../components'\r\nimport { userCart } from '../api/user'\r\nimport { toast } from 'react-toastify'\r\nconst Cart = () => {\r\n  const { cart, user } = useSelector((state) => ({ ...state }))\r\n\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const getTotal = () => {\r\n    return cart.reduce((currentValue, nextValue) => {\r\n      return (currentValue + nextValue.count * nextValue.price).toFixed(2)\r\n    }, 0)\r\n  }\r\n\r\n  const saveOrderToDb = () => {\r\n    if (user.isBlocked === true) {\r\n      toast.error('You are Restricted from placcing Order,Contact Admin')\r\n    } else {\r\n      userCart(cart, user.token)\r\n        .then((res) => {\r\n          // console.log('CART DB response', res)\r\n          if (res.data.ok) {\r\n            navigate('/checkout')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log('CART SAVE ERROR', err)\r\n          toast.error('CHECK CONSOLE FOR ERROR')\r\n        })\r\n    }\r\n  }\r\n\r\n  const showCartItems = () => (\r\n    <table className='table table-bordered'>\r\n      <thead className='thead-light'>\r\n        <tr>\r\n          <th scope='col'>Image</th>\r\n          <th scope='col'>Title</th>\r\n          <th scope='col'>Price</th>\r\n          <th scope='col'>Brand</th>\r\n          <th scope='col'>Count</th>\r\n          <th scope='col'>Remove</th>\r\n        </tr>\r\n      </thead>\r\n      {cart.map((p) => (\r\n        <ProductCardInCheckout key={p._id} product={p} />\r\n      ))}\r\n    </table>\r\n  )\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n        <div className='col-md-8'>\r\n          <h4>{cart.length} items in the Cart </h4>\r\n\r\n          {!cart.length ? (\r\n            <p>\r\n              No Products in the cart <Link to='/'>Continue Shopping</Link>\r\n            </p>\r\n          ) : (\r\n            showCartItems()\r\n          )}\r\n        </div>\r\n        <div className='col-md-4'>\r\n          <h4>\r\n            Order Summary <hr />\r\n            <p>Products</p>\r\n            {cart.map((c, i) => (\r\n              <div key={i}>\r\n                <h5>\r\n                  {c.title} * {c.count} = ₹{(c.price * c.count).toFixed(2)}\r\n                </h5>\r\n              </div>\r\n            ))}\r\n            <hr />\r\n            Total : <b>₹{getTotal()}</b>\r\n            <hr />\r\n            {user ? (\r\n              <Button\r\n                style={{ textDecoration: 'none' }}\r\n                disabled={cart.length < 1}\r\n                onClick={saveOrderToDb}\r\n              >\r\n                Proceed to Checkout\r\n              </Button>\r\n            ) : (\r\n              <Button>\r\n                <Link\r\n                  to={{\r\n                    pathname: '/login',\r\n                    state: { from: 'cart' },\r\n                  }}\r\n                  style={{ textDecoration: 'none', color: 'black' }}\r\n                >\r\n                  Login to Checkout\r\n                </Link>\r\n              </Button>\r\n            )}\r\n          </h4>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Cart\r\n"],"names":["useSelector","state","cart","user","navigate","useNavigate","useDispatch","className","length","scope","map","p","product","_id","to","c","i","title","count","price","toFixed","reduce","currentValue","nextValue","style","textDecoration","disabled","onClick","isBlocked","toast","userCart","token","then","res","data","ok","catch","err","console","log","pathname","from","color"],"sourceRoot":""}